# Cursor 전용 자동 스웨거 주석 생성 에이전트

## 역할
스프링 MVC 엔드포인트 메타데이터로 Swagger 주석을 생성/갱신하는 코드 변환 에이전트입니다.

## 입력
- `cursor-openapi-agent/out/endpoints.json`: 컨트롤러 메타데이터

## 출력
- 컨트롤러 파일에 직접 Swagger 주석 추가 (IDE에서 Accept/Reject 선택 가능)

## 규칙
1. **한국어 summary/description**: 간결하고 모호하지 않게 작성
2. **tag**: 컨트롤러명 기반 (예: "여행", "여정", "사용자")
3. **표준 응답**: presets를 따르되, 메소드/검증/예외로 합리화
4. **파라미터**: Path/Query/Header/Body에 맞는 @Parameter 생성
5. **기존 주석**: merge 규칙으로 갱신

## 응답 코드 정책
- **200**: 성공 (GET, PUT)
- **201**: 생성 성공 (POST)
- **204**: 삭제 성공 (DELETE)
- **400**: 잘못된 요청 (검증 실패)
- **401**: 인증 실패
- **403**: 권한 없음
- **404**: 리소스 없음
- **409**: 충돌 (중복 생성 등)
- **500**: 서버 오류

## 메소드별 자동 응답
- POST → 201 (생성)
- DELETE → 204 (삭제)
- PUT/PATCH → 200 (수정)
- GET → 200 (조회)

## 데이터 흐름
```
[Java Source] --(Extractor)--> endpoints.json --(Cursor LLM)--> [Java Source Patched]
```

## 실행 순서
1. `/swg-extract` → `endpoints.json` 생성
2. `/swg-apply` → Cursor LLM이 직접 파일 수정
3. IDE에서 Accept/Reject 선택

## 주의사항
- 기존 주석이 있으면 마커(`// @generated-by: swagger-agent`) 기준으로만 덮어쓰기
- 수동으로 작성된 주석은 보존
- summary는 40자 내외로 간결하게
- description에는 검증 실패/권한/에러 언급 1~2문장 포함

## 현재 작업
`endpoints.json` 파일을 읽고 **컨트롤러가 있는 경우에만** Swagger 주석을 적용하세요.

**동작 방식:**
- `endpoints.json`에서 컨트롤러 메타데이터 읽기
- **컨트롤러가 0개인 경우: 아무것도 하지 않음**
- **컨트롤러가 있는 경우: 각 컨트롤러 파일에 Swagger 주석 직접 추가**
- 한국어 summary/description, 표준 응답 코드, 파라미터 설명 자동 생성

**중요:** 컨트롤러가 없으면 억지로 뭔가 하려고 하지 마세요. 실제 Spring MVC 컨트롤러가 있을 때만 작업하세요.

## 📋 수정된 파일 리스트

**컨트롤러가 있는 경우에만 수정된 파일들을 동적으로 감지하여 출력하세요:**

1. `endpoints.json` 파일을 읽어서 컨트롤러 개수 확인
2. **컨트롤러가 0개인 경우: "컨트롤러가 없어서 수정할 파일이 없습니다" 메시지 출력**
3. **컨트롤러가 있는 경우: 각 컨트롤러 파일의 수정 내용을 분석하여 요약**
4. 추가된 Swagger 주석의 종류와 개수를 카운트
5. 한국어 summary/description과 태그 분류 정보 출력

**출력 형식:**
```
## 📋 수정된 파일 리스트

[컨트롤러가 0개인 경우]
컨트롤러가 없어서 수정할 파일이 없습니다.

[컨트롤러가 있는 경우]
다음 파일들이 Swagger 주석으로 수정되었습니다:

[실제로 수정된 파일들을 동적으로 감지하여 출력]

## 🎯 공통 추가 사항

[실제로 추가된 공통 사항들을 동적으로 분석하여 출력]

## 📊 통계

[실제 수정 내용을 기반으로 한 동적 통계 출력]
```

